
<!doctype html PUBLIC "-//W3C//DTD HTML 4.0 Transitional//EN">
<html><head><title>Python: module ImageD11.opendata</title>
</head><body bgcolor="#f0f0f8">

<table width="100%" cellspacing=0 cellpadding=2 border=0 summary="heading">
<tr bgcolor="#7799ee">
<td valign=bottom>&nbsp;<br>
<font color="#ffffff" face="helvetica, arial">&nbsp;<br><big><big><strong><a href="ImageD11.html"><font color="#ffffff">ImageD11</font></a>.opendata</strong></big></big></font></td
><td align=right valign=bottom
><font color="#ffffff" face="helvetica, arial"><a href=".">index</a><br><a href="file:///C|/python24/lib/site-packages/imaged11/opendata.py">c:\python24\lib\site-packages\imaged11\opendata.py</a></font></td></tr></table>
    <p><tt>ImageD11&nbsp;generic&nbsp;file&nbsp;opener<br>
&nbsp;<br>
Returns&nbsp;a&nbsp;data&nbsp;object<br>
&nbsp;<br>
Try&nbsp;to&nbsp;determine&nbsp;file&nbsp;type&nbsp;from&nbsp;extension&nbsp;or&nbsp;otherwise&nbsp;first&nbsp;few<br>
bytes???</tt></p>
<p>
<table width="100%" cellspacing=0 cellpadding=2 border=0 summary="section">
<tr bgcolor="#aa55cc">
<td colspan=3 valign=bottom>&nbsp;<br>
<font color="#fffff" face="helvetica, arial"><big><strong>Modules</strong></big></font></td></tr>
    
<tr><td bgcolor="#aa55cc"><tt>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</tt></td><td>&nbsp;</td>
<td width="100%"><table width="100%" summary="list"><tr><td width="25%" valign=top><a href="Numeric.html">Numeric</a><br>
</td><td width="25%" valign=top><a href="bz2.html">bz2</a><br>
</td><td width="25%" valign=top><a href="gzip.html">gzip</a><br>
</td><td width="25%" valign=top></td></tr></table></td></tr></table><p>
<table width="100%" cellspacing=0 cellpadding=2 border=0 summary="section">
<tr bgcolor="#eeaa77">
<td colspan=3 valign=bottom>&nbsp;<br>
<font color="#ffffff" face="helvetica, arial"><big><strong>Functions</strong></big></font></td></tr>
    
<tr><td bgcolor="#eeaa77"><tt>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</tt></td><td>&nbsp;</td>
<td width="100%"><dl><dt><a name="-edfheader"><strong>edfheader</strong></a>(file)</dt><dd><tt>Reads&nbsp;the&nbsp;header&nbsp;of&nbsp;edf&nbsp;files&nbsp;into&nbsp;a&nbsp;dictionary<br>
file&nbsp;can&nbsp;be&nbsp;fileobject&nbsp;or&nbsp;filename</tt></dd></dl>
 <dl><dt><a name="-getnum"><strong>getnum</strong></a>(name)</dt></dl>
 <dl><dt><a name="-makeedfheader"><strong>makeedfheader</strong></a>(dataobject)</dt><dd><tt>Writes&nbsp;the&nbsp;FLOAT&nbsp;edf&nbsp;subset&nbsp;a&nbsp;la&nbsp;fit2d<br>
Feel&nbsp;free&nbsp;to&nbsp;improve&nbsp;me!</tt></dd></dl>
 <dl><dt><a name="-makename"><strong>makename</strong></a>(stem, num, extn, width<font color="#909090">=4</font>)</dt><dd><tt>Filename&nbsp;creation&nbsp;mydata1234.edf&nbsp;etc<br>
eg&nbsp;stem&nbsp;+&nbsp;num&nbsp;+&nbsp;extn&nbsp;&nbsp;&nbsp;...&nbsp;with&nbsp;num&nbsp;being&nbsp;width&nbsp;wide,</tt></dd></dl>
 <dl><dt><a name="-openbruker"><strong>openbruker</strong></a>(filename)</dt><dd><tt>Reads&nbsp;a&nbsp;bruker&nbsp;file&nbsp;into&nbsp;a&nbsp;data&nbsp;object</tt></dd></dl>
 <dl><dt><a name="-openchi"><strong>openchi</strong></a>(filename)</dt><dd><tt>opens&nbsp;a&nbsp;chi&nbsp;file&nbsp;and&nbsp;returns&nbsp;a&nbsp;data&nbsp;object<br>
2&nbsp;columns&nbsp;in&nbsp;resulting&nbsp;array&nbsp;(x,y)</tt></dd></dl>
 <dl><dt><a name="-opendata"><strong>opendata</strong></a>(filename)</dt><dd><tt>Guesses&nbsp;the&nbsp;file&nbsp;type&nbsp;and&nbsp;return&nbsp;a&nbsp;data&nbsp;object<br>
&nbsp;<br>
Supports&nbsp;edf,&nbsp;edf.gz,&nbsp;edf.bz2,&nbsp;xye,&nbsp;epf,&nbsp;inp,&nbsp;chi<br>
&nbsp;...&nbsp;otherwise&nbsp;tries&nbsp;bruker</tt></dd></dl>
 <dl><dt><a name="-openedf"><strong>openedf</strong></a>(filename)</dt><dd><tt>Opens&nbsp;edf&nbsp;files&nbsp;returning&nbsp;data&nbsp;objects<br>
Can&nbsp;be&nbsp;gzipped&nbsp;or&nbsp;bzipped<br>
&nbsp;<br>
So&nbsp;far&nbsp;only&nbsp;UnsignedShort&nbsp;(eg&nbsp;frelon)&nbsp;or&nbsp;FLOAT&nbsp;(eg&nbsp;fit2d)</tt></dd></dl>
 <dl><dt><a name="-openxye"><strong>openxye</strong></a>(filename)</dt><dd><tt>opens&nbsp;an&nbsp;xye&nbsp;file&nbsp;and&nbsp;returns&nbsp;a&nbsp;data&nbsp;object<br>
3&nbsp;columns&nbsp;in&nbsp;resulting&nbsp;array&nbsp;(x,y,e)</tt></dd></dl>
 <dl><dt><a name="-readbruker"><strong>readbruker</strong></a>(file)</dt><dd><tt>Reads&nbsp;in&nbsp;a&nbsp;Bruker&nbsp;file,&nbsp;returning&nbsp;the&nbsp;data&nbsp;and&nbsp;header<br>
file&nbsp;may&nbsp;be&nbsp;a&nbsp;string&nbsp;or&nbsp;file&nbsp;object<br>
TODO&nbsp;we&nbsp;should&nbsp;later&nbsp;modify&nbsp;to&nbsp;take&nbsp;ROI&nbsp;ranges&nbsp;somehow&nbsp;(xmin,xmax,ymin,ymax)</tt></dd></dl>
 <dl><dt><a name="-readbrukerheader"><strong>readbrukerheader</strong></a>(file)</dt><dd><tt>Reads&nbsp;a&nbsp;Bruker&nbsp;file&nbsp;header&nbsp;into&nbsp;a&nbsp;Python&nbsp;dictionary<br>
file=filename&nbsp;or&nbsp;file&nbsp;pointer</tt></dd></dl>
 <dl><dt><a name="-readbytestream"><strong>readbytestream</strong></a>(file, offset, x, y, nbytespp, datatype<font color="#909090">='int'</font>, signed<font color="#909090">='n'</font>, swap<font color="#909090">='n'</font>, typeout<font color="#909090">='w'</font>)</dt><dd><tt>Reads&nbsp;in&nbsp;a&nbsp;bytestream&nbsp;from&nbsp;a&nbsp;file&nbsp;(which&nbsp;may&nbsp;be&nbsp;a&nbsp;string&nbsp;indicating<br>
a&nbsp;filename,&nbsp;or&nbsp;an&nbsp;already&nbsp;opened&nbsp;file&nbsp;(should&nbsp;be&nbsp;"rb"))<br>
offset&nbsp;is&nbsp;the&nbsp;position&nbsp;(in&nbsp;bytes)&nbsp;where&nbsp;the&nbsp;pixel&nbsp;data&nbsp;start<br>
nbytespp&nbsp;=&nbsp;number&nbsp;of&nbsp;bytes&nbsp;per&nbsp;pixel<br>
type&nbsp;can&nbsp;be&nbsp;int&nbsp;or&nbsp;float&nbsp;(4&nbsp;bytes&nbsp;pp)&nbsp;or&nbsp;double&nbsp;(8&nbsp;bytes&nbsp;pp)<br>
signed:&nbsp;normally&nbsp;signed&nbsp;data&nbsp;'y',&nbsp;but&nbsp;'n'&nbsp;to&nbsp;try&nbsp;to&nbsp;get&nbsp;back&nbsp;the&nbsp;right&nbsp;numbers<br>
&nbsp;&nbsp;when&nbsp;unsigned&nbsp;data&nbsp;are&nbsp;converted&nbsp;to&nbsp;signed&nbsp;(python&nbsp;has&nbsp;no&nbsp;unsigned&nbsp;numeric&nbsp;types.)<br>
swap,&nbsp;normally&nbsp;do&nbsp;not&nbsp;bother,&nbsp;but&nbsp;'y'&nbsp;to&nbsp;swap&nbsp;bytes<br>
typeout&nbsp;is&nbsp;the&nbsp;Numeric&nbsp;type&nbsp;to&nbsp;output,&nbsp;normally&nbsp;UInt16,&nbsp;but&nbsp;more&nbsp;if&nbsp;overflows&nbsp;occurred<br>
x&nbsp;and&nbsp;y&nbsp;are&nbsp;the&nbsp;pixel&nbsp;dimensions<br>
&nbsp;<br>
TODO&nbsp;:&nbsp;Read&nbsp;in&nbsp;regions&nbsp;of&nbsp;interest<br>
&nbsp;<br>
PLEASE&nbsp;LEAVE&nbsp;THE&nbsp;STRANGE&nbsp;INTERFACE&nbsp;ALONE&nbsp;-&nbsp;IT&nbsp;IS&nbsp;USEFUL&nbsp;FOR&nbsp;THE&nbsp;BRUKER&nbsp;FORMAT</tt></dd></dl>
 <dl><dt><a name="-writebruker"><strong>writebruker</strong></a>(filename, dataobject)</dt><dd><tt>Writes&nbsp;16-bit&nbsp;+&nbsp;overflow&nbsp;bruker&nbsp;images&nbsp;based&nbsp;on&nbsp;the&nbsp;headerstring<br>
Assumes&nbsp;you've&nbsp;got&nbsp;a&nbsp;good&nbsp;bruker&nbsp;headerstring&nbsp;in&nbsp;the&nbsp;data<br>
object</tt></dd></dl>
 <dl><dt><a name="-writedata"><strong>writedata</strong></a>(filename, dataobject)</dt></dl>
 <dl><dt><a name="-writeedf"><strong>writeedf</strong></a>(filename, dataobject)</dt></dl>
</td></tr></table>
</body></html>